-# Hide header in map view if mobile
%header.header.info-header
  .header-wrapper.clearfix
    .header-right
      .info-header-text.header-about-us
        = t('header.about_us')
    .header-right
      .info-header-text.display-inline-flex
        = image_tag("mf_icons/icon-movri-chat.svg", class: 'header-menu-icon icon-movri-chat')
        .smbold
          = t('header.live_chat')
    .header-right
      .info-header-text.display-inline-flex
        = image_tag("mf_icons/icon-movri-info.svg", class: 'header-menu-icon icon-movri-info')
        .smbold
          = t('header.help')
    .header-right
      .info-header-text
        .smbold
          = t('header.phone_number')
    .header-left
      .info-header-text.history-since-text
        = raw t('header.history_since')
%header.header.main-header
  .header-wrapper.header-nav.clearfix
    - if logged_in
      .header-right.visible-tablet
        #header-menu-desktop-anchor.header-menu-container.toggle.hidden{data: {toggle: '#header-menu-toggle-menu', 'toggle-position' => 'absolute', 'toggle-anchor-position' => 'right'}}

    .header-right.controls
      = render :partial => "layouts/header_anchors"
      = render :partial => "layouts/header_user_menu"


    - if logged_in
      = render :partial => "layouts/header_right_visible_tablet", locals: {unread_count: unread_count, inbox_path: inbox_path, icons: icons}

    - if available_locales.size > 1
      .header-right.visible-desktop
        #header-locales-menu.toggle.header-hover{data: {toggle: '#header-locales-toggle-menu', 'toggle-position' => 'absolute'}}
          %span.header-text-link
            = current_locale_name
            = icon_map_tag(icons, "dropdown", ["icon-dropdown"])
        #header-locales-toggle-menu.toggle-menu.header-toggle-menu-language.hidden
          - locale_change_links.each do |locale_change_link|
            %a{href: locale_change_link[:url]}
              = locale_change_link[:title]

    - if logged_in
      .header-left.hidden-tablet
        .header-menu-container.toggle.hidden{data: {toggle: '#header-menu-toggle-menu', 'toggle-position' => 'absolute'}}
          #header-menu-mobile-anchor.header-menu-toggle-container.toggle-header-container
            = icon_map_tag(icons, "rows", ["header-menu-icon"])

    = render :partial => "layouts/header_menu", locals: { locale_change_links: locale_change_links, icons: icons}

    -#
      If necessary, the buttons will overlap with the logo. Buttons should be on top, that's
      keep the logo here after buttons
    .header-left.header-logo-container
      = link_to landing_page_path, :class => "header-logo", :id => "header-logo" do
        - if @current_community.logo.present?
          %i.header-square-logo.hidden-tablet
            -# Logo is here, it's a CSS background
        - if @current_community.wide_logo.present?
          %i.header-wide-logo
            -# Logo is here, it's a CSS background
        - else
          %span.header-wide-logo-text.visible-tablet
            = @current_community.name(I18n.locale)
    .header-left.header-search-contain{class: "#{logged_in? ? 'header-search-logged-in' : ''}"}
      = render partial: 'layouts/searchs/search_box'
    = render partial: 'layouts/searchs/history'
    = render partial: 'layouts/searchs/results'
.header.category-nav.hidden-mobile
  .header-wrapper
    = render :partial => 'layouts/category_bar'
